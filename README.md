<h1 align="center">🚀 AstrBot 定时任务插件 🚀</h1>

<p align="center">
<strong>为你的 AstrBot添加定时任务，打造全功能定时任务插件！</strong>
</p>
<p align="center">
<code>ZaskManager</code> 是一个为 <a href="https://github.com/Soulter/AstrBot">AstrBot</a> 聊天机器人框架量身定制的全功能定时任务插件。
它允许您的机器人运行各种自定义脚本，执行/定时运行发送消息，
让机器人能够基于准确、具体的私有信息进行对话，区别不同群聊或者不同人物的私聊。
</p>
---
<p><strong>📘 定时任务插件使用指南 V5.0.4 </strong></p>

<p><strong>【命令列表】</strong></p>
<p>/定时 添加 [脚本名] [时间] - 创建每日定时任务（脚本需放在 plugin_data/ZaskManager 下）</p>
<p>/定时 删除 [任务ID或名称] - 删除当前会话的任务</p>
<p>/定时 列出 - 查看当前会话的所有任务</p>
<p>/定时 状态 [任务ID] - 查看任务详细执行状态</p>
<p>/定时 帮助 - 显示本帮助信息</p>
<p>/执行 [脚本名] - 立即执行脚本并返回结果</p>

<p><strong>【任务状态】</strong></p>
<p>✅ 成功 - 任务已成功执行</p>
<p>❌ 失败 - 任务执行失败</p>
<p>⏳ 待触发 - 任务等待执行</p>
<p>🏃‍♂️ 执行中 - 任务正在执行</p>

<p><strong>【可靠性保证】</strong></p>
<p>1. 自动重试机制（失败后最多重试3次）</p>
<p>2. 任务卡死检测（5分钟未完成自动恢复）</p>
<p>3. 时间格式自动修复（兼容各种时间格式）</p>
<p>4. 每日状态监控（6小时检查一次任务执行情况）</p>

<p><strong>【示例】</strong></p>
<p>/定时 添加 数据备份 08:30   # 每日08:30执行"数据备份.py"</p>
<p>/定时 删除 数据备份_0830_12345  # 通过任务ID精准删除</p>
<p>/定时 列出                # 查看当前会话所有任务</p>
<p>/定时 状态 data123       # 查看任务详细状态</p>
<p>/执行 数据备份            # 立即运行"数据备份.py"</p>

<p><strong>⚠️ 注意：</strong></p>
<p>- 任务ID由「脚本名+时间+会话ID」生成，添加后可查看</p>
<p>- 定时任务每日执行一次，脚本执行超时30秒会自动终止</p>
<p>- 仅当前会话（群/私聊）的任务会被列出/删除</p>

<p><strong>💡 使用要求：</strong></p>
<p>1.在插件数据目录下创建任务脚本</p>
<p>2.脚本命名规则：</p>
<ul>
<li>允许中文、字母、数字和下划线</li>
<li>示例：定时.py、remaining_days.py、report.py</li>
</ul>
<p>3.脚本输出规范：</p>
<ul>
<li>支持 Markdown 格式图片：![描述](图片URL)</li>
<li>其他文本内容将直接显示</li>
</ul>
